<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        #show {
            width: 300px;
            height: 300px;
            background-color: pink;
        }
    </style>
</head>
<body>
    <form action="" name="ajaxForm" id="ajaxForm">
        username:<input type="text" name="username" id="username" value=""/><br>
        password:<input type="password" name="pwd" id="pwd" value="9999"/><br>
        checkcode:<input type="text" name="checkcode" id="checkcode" /><br>
        <input type="button" name="" id="signUp" value="sing up"/>
        
    </form>
    <div id="show">
        hello
    </div>
</body>
<script src="js/jquery-3.4.1.js"></script>
<script language="Javascript">
    var id=$('#username').val();
    var data={'id':id,'age':'22'};
    $(document).ready(function(){
        /* $('#signUp').click(function(){
            //**get**
            // alert('ok');
            // $('#show').load("/UsersManager3.0/CheckController?id="
            // +$('#username').val()+"&time="+Math.random(),function(responseTxt,statusTxt,xhr){
            //     //alert("Error: "+xhr.status+": "+xhr.statusText);
            //     $(this).text(responseTxt);
            // });
            //**post**
            var id=$('#username').val();
            var data={'id':id,'age':'22'};
            $('#show').load("/UsersManager3.0/CallXmlController",data,function(responseTxt,statusTxt,xhr){
                //alert("Error: "+xhr.status+": "+xhr.statusText);	 
                //alert(responseTxt);
                
                //**get json**
                //var resObj=eval("("+responseTxt+")");
                
                // $(this).text(resObj.res+":"+resObj.info);
                
                //**get xml**
                // var rest = xhr.responseText;
                // var xmlDoc = new ActiveXObject("Microsoft.XMLDOM");   
                // xmlDoc.async=false;    
                // xmlDoc.loadXML(rest);    
                // //能够处理这个xmlDoc了     
                // var name = xmlDoc.selectSingleNode("/res/msg");   
             	// $(this).text(name.text);


            });
        });*/

        //**post**
        var xhr=$.post("/UsersManager3.0/CallXmlController",data,function(backdata,status){
            var rest = backdata.getElementsByTagName('msg');
            
            alert(rest[0].childNodes[0].nodeValue);
        });        
        // $.post("/UsersManager3.0/CallJsonController",data,function(backdata,status){
        //     var objs=eval("("+backdata+")");
        //     var $objs=$(objs);
        //     //traverse
        //     $objs.each(function(){
        //         alert(this.id);
        //     });
        
        // });   
        var xmlobj=xhr.responseXML;
        var res=xmlobj.getElementsByTagName('msg');
        alert(res[0].childNodes[0].nodeValue);     
    });

</script>
</html>